# Data

The expected structure of files is:
```
LLMaAA
 |-- data
 |    |-- zh_onto4/en_conll03/en_retacred
 |    |    |-- cache.json/cache_knn.json/cache_zero.json (automatically generated)
 |    |    |-- {test/train}-{random/knn}-demo.json (automatically generated)
 |    |    |-- train.jsonl
 |    |    |-- dev.jsonl
 |    |    |-- test.jsonl
 |    |    |-- demo.jsonl (split from dev files in our experiments)
 |    |    |-- meta.json
```
The cache files are automatically generated by annotator if `use_cache` is `True`. The `{test/train}-{random/knn}-demo.json` files are demonstration indices generated by `~/src/demo_retrieval.py`.

## NER data

Raw data is downloaded from ``https://github.com/ShannonAI/mrc-for-flat-nested-ner/blob/master/ner2mrc/download.md``. 

You should first pre-process the raw data to the expected structure using `./prepro_ner.py`. It will convert the `{}.bmes` files into `{}.jsonl` files, split `demo.jsonl`, and generate `meta.json`.

## RE data (`en_retacred`)

Download the raw data from the original paper.

We keep 6 relations: per:age, per:nationality (per:origin), per:parents, per:children, per:siblings, per:spouse, and randomly sample no_relation with 6:4 ratio (roughly the same as original proportion).

An example of sample format:
```json
{
    "tokens": ["Augustus", "Hawkins", "86", "."],
    "h": {"pos": [0, 2], "name": "Augustus Hawkins"},
    "t": {"pos": [2, 3], "name": "86"},
    "label": "per:age",
    "text": "Augustus Hawkins 86 .",
    "id":"61b3a65fb989fd2e150c"
}
```

The meta data of `en_retacred` is included in this repository.